function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/ConfirmDeleteDialog-C81u4r0g.js","assets/index-Dm6jrkaa.js","assets/DialogTitle-BrCAEDFX.js","assets/Modal-DKikbja4.js","assets/Menu-BqoZ4b2f.js","assets/Typography-BNMws05L.js","assets/Button-Cbi2cfxC.js","assets/AddMemberDialog-DoWTZXDc.js","assets/UserItems-bP_p-Hwu.js","assets/Features-M4ODAUeT.js","assets/ListItem-BZnh-FdA.js","assets/isMuiElement-DExMpYSc.js","assets/Avatar-BOgCjYz0.js","assets/IconButton-CjltV93Y.js","assets/Delete-Cwb7cZ6I.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{j as e,r as o,C as A,u as Z,c as J,Y as X,h as ee,Z as se,i as re,$ as oe,W as g,S as c,n as te,L as ae,a0 as ne,a1 as ie,M as le,a2 as ce}from"./index-Dm6jrkaa.js";import{A as de}from"./AvatarCard-Nl53eBtE.js";import{U as me}from"./UserItems-bP_p-Hwu.js";import{b as j,a as pe,D as ue,B as xe,M as he}from"./Features-M4ODAUeT.js";import{c as f,T as p}from"./Typography-BNMws05L.js";import{B as E}from"./Modal-DKikbja4.js";import{M as m}from"./IconButton-CjltV93Y.js";import{M as ge}from"./Tooltip-mdcBTkzG.js";import{T as je}from"./TextField-TzJcuXm1.js";import{B as S}from"./Button-Cbi2cfxC.js";import{D as fe,A as be}from"./Delete-Cwb7cZ6I.js";import"./Menu-BqoZ4b2f.js";import"./Avatar-BOgCjYz0.js";import"./ListItem-BZnh-FdA.js";import"./isMuiElement-DExMpYSc.js";const Me=f(e.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4z"}),"Done"),ve=f(e.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),De=f(e.jsx("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"}),"KeyboardBackspace"),Ie=o.lazy(()=>A(()=>import("./ConfirmDeleteDialog-C81u4r0g.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Ge=o.lazy(()=>A(()=>import("./AddMemberDialog-DoWTZXDc.js"),__vite__mapDeps([7,1,8,9,3,5,10,4,11,12,13,14,2,6]))),Ve=()=>{var C,y;const l=Z(),{isAddMember:i}=J(t=>t.misc),s=X()[0].get("group"),n=ee(),r=se(""),a=re({chatId:s,populate:!0},{skip:!s}),[_,b]=j(ne),[w,B]=j(ie),[N,Ce]=j(le),[z,M]=o.useState(!1),[R,u]=o.useState(!1),[T,x]=o.useState(""),[v,d]=o.useState(""),[D,I]=o.useState(!1),[h,U]=o.useState([]),H=[{isError:r.isError,error:r.error},{isError:a.isError,error:a.error}];pe(H),o.useEffect(()=>{a.data&&(x(a.data.chat.name),d(a.data.chat.name),U(a.data.chat.members))},[a.data]);const F=()=>{n("/")},V=()=>{M(t=>!t)},O=()=>{M(!1)},P=()=>{u(!1),_("Updating Group Name...",{chatId:s,name:v})},$=()=>{I(!0)},G=()=>{I(!1)},Y=()=>{l(ce(!0))},K=()=>{G(),N("Deleting Group...",s),n("/groups")},Q=t=>{w("Removing Group Member...",{chatId:s,userId:t})};o.useEffect(()=>(s&&(x(`Group Name ${s}`),d(`Group Name ${s}`)),()=>{x(""),d(""),u(!1)}),[s]);const W=e.jsxs(e.Fragment,{children:[e.jsx(xe,{sx:{display:{xs:"block",sm:"none"},position:"fixed",right:"1rem",top:"1rem"},children:e.jsx(m,{onClick:V,children:e.jsx(he,{})})}),e.jsx(ge,{title:"back",children:e.jsx(m,{sx:{position:"absolute",top:"2rem",left:"2rem",bgcolor:"rgba(0,0,0,0.7)",color:"white","&:hover":{bgcolor:"rgba(0,0,0,0.8)"}},onClick:F,children:e.jsx(De,{})})})]}),k=e.jsx(c,{direction:"row",alignItems:"center",justifyContent:"center",p:"2rem",spacing:"1rem",children:R?e.jsxs(e.Fragment,{children:[e.jsx(je,{value:v,onChange:t=>d(t.target.value)}),e.jsx(m,{onClick:P,disabled:b,children:e.jsx(Me,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx(p,{variant:"h4",children:T}),e.jsx(m,{onClick:()=>u(!0),disabled:b,children:e.jsx(ve,{})})]})}),q=e.jsxs(c,{direction:{xs:"column-reverse",sm:"row"},spacing:"1rem",p:{sm:"1rem",xs:"0",md:"1rem 4rem"},children:[e.jsx(S,{size:"large",color:"error",variant:"outlined",startIcon:e.jsx(fe,{}),onClick:$,children:"Delete Group"}),e.jsx(S,{variant:"contained",size:"large",startIcon:e.jsx(be,{}),onClick:Y,children:"Add Member"})]});return r.isLoading?e.jsx(oe,{}):e.jsxs(g,{container:!0,height:"100vh",children:[e.jsxs(g,{item:!0,sx:{display:{xs:"none",sm:"block"},overflowY:"auto",height:"100%"},position:"relative",sm:4,bgcolor:"bisque",children:[" ",e.jsx(L,{myGroup:(C=r==null?void 0:r.data)==null?void 0:C.groups,chatId:s})]}),e.jsxs(g,{item:!0,xs:12,sm:8,sx:{display:"flex",flexDirection:"column",alignItems:"center",position:"relative",padding:"1rem 3rem"},children:[W,k&&e.jsxs(e.Fragment,{children:[k,e.jsx(p,{margin:"1rem",alignSelf:"flex-start",variant:"body1",children:"Members"}),e.jsx(c,{maxWidth:"45rem",width:"100%",boxSizing:"border-box",padding:{sm:"1rem",xs:"0",md:"1rem 4rem"},spacing:"2rem",height:"50vh",sx:{overflowY:"auto"},children:B?e.jsx(te,{}):h==null?void 0:h.map(t=>e.jsx(me,{user:t,isAdded:!0,styling:{boxShadow:"0 0 0.5rem rgba(0,0,0,0.2)",padding:"1rem 2rem",borderRadius:"1rem"},handler:Q},t._id))}),q]})]}),i&&e.jsx(o.Suspense,{fallback:e.jsx(E,{open:!0}),children:e.jsx(Ge,{chatId:s})}),D&&e.jsx(o.Suspense,{fallback:e.jsx(E,{open:!0}),children:e.jsx(Ie,{open:D,handleClose:G,deleteHandler:K})}),e.jsx(ue,{sx:{display:{xs:"block",sm:"none"}},open:z,onClose:O,anchor:"left",children:e.jsx(L,{w:"50vw",myGroup:(y=r==null?void 0:r.data)==null?void 0:y.groups,chatId:s})})]})},L=({w:l="100%",myGroup:i=[],chatId:s})=>e.jsx(c,{width:l,children:i.length>0?i.map((n,r)=>e.jsx(ke,{group:n,chatId:s},r)):e.jsx(p,{textAlign:"center",padding:"1rem",children:"No Groups"})}),ke=o.memo(({group:l,chatId:i})=>{const{name:s,_id:n,avatar:r}=l;return e.jsx(ae,{to:`?group=${n}`,onClick:a=>{i===n&&a.preventDefault()},children:e.jsxs(c,{direction:"row",spacing:"1rem",alignItems:"center",children:[e.jsx(de,{avatar:r}),e.jsx(p,{children:s})]})})});export{Ve as default};
