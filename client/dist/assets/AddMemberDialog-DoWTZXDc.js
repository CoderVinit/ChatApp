import{u as S,r as y,c as C,aI as D,j as e,S as o,n as k,aP as v,a2 as E}from"./index-Dm6jrkaa.js";import{U as F}from"./UserItems-bP_p-Hwu.js";import{b as w,a as H}from"./Features-M4ODAUeT.js";import{D as T,a as B}from"./DialogTitle-BrCAEDFX.js";import{T as I}from"./Typography-BNMws05L.js";import{B as l}from"./Button-Cbi2cfxC.js";import"./ListItem-BZnh-FdA.js";import"./Menu-BqoZ4b2f.js";import"./Modal-DKikbja4.js";import"./isMuiElement-DExMpYSc.js";import"./Avatar-BOgCjYz0.js";import"./IconButton-CjltV93Y.js";import"./Delete-Cwb7cZ6I.js";const V=({chatId:n})=>{var d,m;const c=S(),[a,p]=y.useState([]),{isAddMember:b}=C(s=>s.misc),[u,x]=w(v),{isLoading:h,data:r,error:j,isError:M}=D(n),g=s=>{p(t=>t.includes(s)?t.filter(f=>f!==s):[...t,s])},i=()=>{c(E(!1))},A=()=>{u("Adding members...",{chatId:n,members:a}),i()};return H([{isError:M,error:j}]),e.jsx(T,{open:b,onClose:i,children:e.jsxs(o,{width:"20rem",p:"2rem",spacing:"1rem",children:[e.jsx(B,{textAlign:"center",children:"Add Members"}),e.jsx(o,{spacing:"1rem",children:h?e.jsx(k,{}):((d=r==null?void 0:r.availableFriends)==null?void 0:d.length)>0?(m=r==null?void 0:r.availableFriends)==null?void 0:m.map(s=>e.jsx(F,{user:s,isAdded:a.includes(s._id),handler:g},s._id)):e.jsx(I,{textAlign:"center",children:"No Friends"})}),e.jsxs(o,{direction:"row",justifyContent:"space-between",children:[e.jsx(l,{color:"error",onClick:i,children:"Cancel"}),e.jsx(l,{variant:"contained",onClick:A,disabled:x,children:"Submit"})]})]})})};export{V as default};
