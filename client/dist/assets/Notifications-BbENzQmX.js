import{aG as j,c as g,u as w,j as e,S as c,n as y,r as k,aH as q,J as p}from"./index-Dm6jrkaa.js";import{b as A,a as b}from"./Features-M4ODAUeT.js";import{D as v,a as N}from"./DialogTitle-BrCAEDFX.js";import{T as d}from"./Typography-BNMws05L.js";import{L as R}from"./ListItem-BZnh-FdA.js";import{A as C}from"./Avatar-BOgCjYz0.js";import{B as x}from"./Button-Cbi2cfxC.js";import"./Modal-DKikbja4.js";import"./Menu-BqoZ4b2f.js";import"./isMuiElement-DExMpYSc.js";const M=()=>{var m;const{isLoading:o,data:s,error:i,isError:n}=j(),{isNotification:a}=g(t=>t.misc),l=w(),[u]=A(q),f=async({_id:t,accept:r})=>{l(p(!1)),await u("Accepting...",{requestId:t,accept:r})},h=()=>l(p(!1));return b([{error:i,isError:n}]),e.jsx(v,{open:a,onClose:h,children:e.jsxs(c,{p:{xs:"1rem",sm:"2rem"},maxWidth:"25rem",children:[e.jsx(N,{children:"Notifications"}),o?e.jsx(y,{}):e.jsx(e.Fragment,{children:(s==null?void 0:s.allrequest.length)>0?(m=s==null?void 0:s.allrequest)==null?void 0:m.map(({sender:t,_id:r})=>e.jsx(I,{sender:t,_id:r,handler:f},r)):e.jsx(d,{textAlign:"center",children:"0 notifications found."})})]})})},I=k.memo(({sender:o,_id:s,handler:i})=>{const{name:n,avatar:a}=o;return e.jsx(R,{children:e.jsxs(c,{direction:"row",alignItems:"center",spacing:"1rem",width:"100%",children:[e.jsx(C,{src:a}),e.jsx(d,{variant:"body1",sx:{flexGrow:1,display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",width:"100%"},children:`${n} send you a friend Request`}),e.jsxs(c,{direction:{xs:"column",sm:"row"},children:[e.jsx(x,{onClick:()=>i({_id:s,accept:!0}),children:"Accept"}),e.jsx(x,{color:"error",onClick:()=>i({_id:s,accept:!1}),children:"Reject"})]})]})})});export{M as default};
