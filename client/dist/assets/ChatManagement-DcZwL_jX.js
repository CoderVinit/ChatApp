import{r as h,j as e,n as p,S as c}from"./index-Dm6jrkaa.js";import{A as i}from"./AvatarCard-Nl53eBtE.js";import{T as f}from"./Table-C1-iiMlG.js";import{a as b,t as m}from"./Features-M4ODAUeT.js";import{A as w}from"./AdminLayout-CQa5_hp2.js";import{c as C}from"./index-DpHtcuSt.js";import{A as N}from"./Avatar-BOgCjYz0.js";import"./Menu-BqoZ4b2f.js";import"./Modal-DKikbja4.js";import"./Container-_t8TImdz.js";import"./Typography-BNMws05L.js";import"./TextField-TzJcuXm1.js";import"./isMuiElement-DExMpYSc.js";import"./IconButton-CjltV93Y.js";import"./Tooltip-mdcBTkzG.js";import"./Toolbar-DFr84wlo.js";import"./MenuItem-msHtV5-r.js";import"./Button-Cbi2cfxC.js";import"./InputAdornment-B4VayVUC.js";import"./ExitToApp-oEY90qON.js";const v=[{field:"id",headerName:"ID",headerClassName:"table-header",width:200},{field:"avatar",headerName:"Avatar",headerClassName:"table-header",width:150,renderCell:a=>e.jsx(i,{avatar:a.row.avatar})},{field:"name",headerName:"Name",headerClassName:"table-header",width:300},{field:"totalMembers",headerName:"Total Members",headerClassName:"table-header",width:120},{field:"members",headerName:"Members",headerClassName:"table-header",width:400,renderCell:a=>e.jsx(i,{max:100,avatar:a.row.members})},{field:"groupChat",headerName:"Group Chat",headerClassName:"table-header",width:120},{field:"totalMessages",headerName:"Total Messages",headerClassName:"table-header",width:120},{field:"creator",headerName:"Created By",headerClassName:"table-header",width:250,renderCell:a=>e.jsxs(c,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(N,{alt:a.row.creator.name,src:a.row.creator.avatar}),e.jsx("span",{children:a.row.creator.name})]})}],z=()=>{const[a,l]=h.useState([]),{loading:n,data:t,error:o}=C("http://localhost:4000/api/v1/admin/chats","dashboard-chats");return b([{isError:o,error:o}]),h.useEffect(()=>{var d;t&&l((d=t==null?void 0:t.chats)==null?void 0:d.map(r=>({...r,id:r._id,avatar:r.avatar.map(s=>m(s,50)),members:r.members.map(s=>m(s.avatar,50)),creator:{name:r.creator.name,avatar:m(r.creator.avatar,50)}})))},[t]),e.jsx(w,{children:n?e.jsx(p,{height:"100vh"}):e.jsx(f,{heading:"All Chats",column:v,row:a})})};export{z as default};
